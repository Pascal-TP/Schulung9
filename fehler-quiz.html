<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Quiz Fehlersuchbild Unterweisung Gabelstapler</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 900px; margin: auto; }
    .hidden { display: none; }
    h1, h2, h3 { text-align: center; }
    label { display: block; margin: 5px 0; }
    button { margin: 10px; padding: 10px 20px; font-size: 16px; }
    #logo { max-width: 300px; margin: 20px auto; display: block; }
    .result { font-size: 20px; text-align: center; margin-top: 30px; }

    #spielbereich {
      position: relative;
      width: 100%;
      max-width: 800px;
      height: auto;
      margin: 0 auto;
    }

    #hauptbild, #loesungsbild {
      width: 100%;
    }

    .hotspot {
      position: absolute;
      border: 2px solid transparent;
    }

    .hotspot.aktiviert {
      border: 2px solid red;
    }

    @media print {
      button, .nav, #start-screen, #loesung-screen, #quiz-screen { display: none !important; }
    }

    .ergebnis-box {
      border: 3px solid #000;
      padding: 30px;
      margin-top: 20px;
      text-align: left;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
      background-color: #fff;
    }
.translate-btn {
      background-color:#4285F4; 
      color:white; 
      border:none; 
      padding:8px 16px; 
      border-radius:5px; 
      font-size:14px;
      margin:10px 0;
      cursor:pointer;
    }

  </style>
</head>
<body>

<!-- STARTSEITE -->
<div id="start-screen">
  <img id="logo" src="logo.png" alt="Firmenlogo">
  <h1>Willkommen zum "Quiz": Unterweisung Gabelstapler</h1>
<div style="text-align:center; margin-bottom:20px;">
  <button class="translate-btn" onclick="openStartTextTranslate()">Google Translator</button>
</div>
<div id="start-text">
  <p>- Finden Sie mindestens 6 Fehler im Bild, um die Schulung zu bestehen.</p>
  <p>- Danach k√∂nnen Sie die L√∂sung einsehen. un den Nachweis drucken.</p>
 <p>- Am Ende speichern Sie bitte Ihren Schulungsnachweis und senden diesen per E-Mail an: arbeitsscherheit@tpholding.de</p>
<p>  (W√§hlen Sie anstelle des Druckers "als pdf speichern" aus, um den Nachweis an einen beliebigen Ort zu speichern.)</p>
  <br>
</div>
  <label>Datum:
    <input type="date" id="input-datum" required>
  </label><br>
  <label>Name:
    <input type="text" id="input-name" required>
  </label><br>
  <button onclick="startQuiz()">Bild anzeigen</button>
</div>

<!-- SPIEL -->
<div id="quiz-screen" class="hidden">
  <img id="logo" src="logo.png" alt="Firmenlogo">
  <h2>Finde die Fehler und klicke auf das Bild!</h2>
<h3>(Find the mistakes and click on the picture!)</h3>

  <div id="spielbereich">
    <img src="quiz.jpg" alt="Fehlersuchbild" id="hauptbild">
    <div class="hotspot" style="top: 5px; left: 300px; width: 150px; height: 150px;" data-id="1"></div>
    <div class="hotspot" style="top: 190px; left: 190px; width: 150px; height: 200px;" data-id="2"></div>
    <div class="hotspot" style="top: 100px; left: 520px; width: 150px; height: 150px;" data-id="3"></div>
    <div class="hotspot" style="top: 480px; left: 5px; width: 70px; height: 200px;" data-id="4"></div>
    <div class="hotspot" style="top: 510px; left: 110px; width: 200px; height: 150px;" data-id="5"></div>
    <div class="hotspot" style="top: 380px; left: 650px; width: 90px; height: 90px;" data-id="6"></div>
    <div class="hotspot" style="top: 475px; left: 600px; width: 150px; height: 150px;" data-id="7"></div>
    <div class="hotspot" style="top: 700px; left: 250px; width: 100px; height: 100px;" data-id="8"></div>
    <div class="hotspot" style="top: 800px; left: 600px; width: 100px; height: 100px;" data-id="9"></div>
    <div class="hotspot" style="top: 910px; left: 700px; width: 100px; height: 100px;" data-id="10"></div>
 </div>

  <div id="status">Fehler gefunden (error found): <span id="counter">0</span> / 10</div>
  <br>
  <button id="weiter-button" class="hidden" onclick="zeigeLoesung()">‚û° Continue to the solution</button>
  
</div>

<!-- L√ñSUNG -->
<div id="loesung-screen" class="hidden">
  <img id="logo" src="logo.png" alt="Firmenlogo">
  <h2>L√∂sungsbild (Solution image)</h2>
  <img src="loesung.jpg" alt="L√∂sungsbild" id="loesungsbild">
  <br><br>
  <button onclick="zeigeErgebnis()">‚û° Continue to the result</button>
</div>

<!-- ERGEBNIS -->
<div id="result-screen" class="hidden">
  <div class="ergebnis-box">
    <img id="logo" src="logo.png" alt="Firmenlogo">
    <h1>Ergebnis</h1>
    <h2>Schulungsnachweis: Unterweisung Gabelstapler</h2>
    <p>Der Besch√§ftigte wurde unterwiesen und hat an einer Kontrollpr√ºfung teilgenommen.</p>
    <p><strong>Name:</strong> <span id="ausgabe-name"></span></p>
    <p><strong>Datum:</strong> <span id="ausgabe-datum"></span></p>
    <p><strong>Testergebnis:</strong> ‚úÖ Bestanden </p>
    <div class="result"><br>
      <p>Mit dem Versenden der PDF-Datei best√§tige ich die Schulung selbst durchgef√ºhrt und die Inhalte verstanden zu haben.</p>
 </div>
    </div>
        <button onclick="window.print()">üíæ save as PDF</button>
    <button onclick="location.reload()">üîÅ start again</button>
    <button onclick="window.location.href='index.html'">back to the script</button>
</div>

<script>
  let name = "";
  let datum = "";

  function startQuiz() {
    name = document.getElementById("input-name").value.trim();
    datum = document.getElementById("input-datum").value;

    if (!name || !datum) {
      alert("Bitte Name und Datum eingeben.");
      return;
    }

    document.getElementById("start-screen").classList.add("hidden");
    document.getElementById("quiz-screen").classList.remove("hidden");
    document.getElementById("ausgabe-name").textContent = name;
    document.getElementById("ausgabe-datum").textContent = datum;
  }

  function zurueckZumStart() {
    if (confirm("Willst du wirklich abbrechen und zum Start zur√ºckkehren?")) {
      location.reload();
    }
  }

  const hotspots = document.querySelectorAll('.hotspot');
  const counterEl = document.getElementById('counter');
  const weiterButton = document.getElementById('weiter-button');

  let gefunden = new Set();

  hotspots.forEach(hotspot => {
    hotspot.addEventListener('click', () => {
      const id = hotspot.dataset.id;
      if (!gefunden.has(id)) {
        gefunden.add(id);
        hotspot.classList.add('aktiviert');
        counterEl.textContent = gefunden.size;

        if (gefunden.size >= 6) {
          weiterButton.classList.remove('hidden');
        }
      }
    });
  });

  function zeigeLoesung() {
    document.getElementById("quiz-screen").classList.add("hidden");
    document.getElementById("loesung-screen").classList.remove("hidden");
  }

  function zeigeErgebnis() {
    document.getElementById("loesung-screen").classList.add("hidden");
    document.getElementById("result-screen").classList.remove("hidden");
  }

function openStartTextTranslate() {
  // Alles innerhalb des Starttext-Bereichs ausw√§hlen
  const startText = document.getElementById("start-text").innerText;
  const url = "https://translate.google.com/?sl=de&tl=en&text=" + encodeURIComponent(startText) + "&op=translate";
  window.open(url, "_blank");
}

</script>

</body>
</html>
